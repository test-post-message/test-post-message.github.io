<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post Message Test</title>
    <link href="index.css" rel="stylesheet " />
    <script>
      function sendMessage() {
        console.log('Preparing message...')
        let data = {
					couponId: "KFC123"
				}
				window.parent.postMessage({"data": data}, '*');
        console.log('All done!!')
      }

      function getUrlParams() {
        var objUrlParams = new URLSearchParams(window.location.search);
        var coupon = objUrlParams.get('couponId')
        if(coupon) {
          console.log(coupon);
          document.body.innerHTML = "<h1>Tu cupon es " + coupon + "<h1>"
        } else {
          console.log("No hay cupon")
        }
      }

    </script>
</head>
<body onload="getUrlParams()">
    <main>
        <h1>Envio de Cupon PostMessage</h1>
        <div class="container">
          <button class="btn-send" onclick="sendMessage()"> Enviar </button>
        </div>
    </main>
</body>
</html>